bcr_test_module:
  module_path: "examples/basic"
  matrix:
    bazel: [8.x]
  tasks:
    ubuntu2204:
      environment:
        PATH: $HOME/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
      shell_commands:
      - curl https://mise.run | sh
      - ~/.local/bin/mise --version
      - echo 'eval "$(~/.local/bin/mise activate --shims bash)"' >> ~/.bashrc
      - . ~/.bashrc
      - mise use -g erlang@28
      name: "Build/test module on Ubuntu"
      platform: ubuntu2204
      bazel: ${{ bazel }}
      build_targets:
      - "..."
      test_targets:
      - "..."
#     macos:
#       shell_commands:
#       - curl https://mise.run | sh
#       - ~/.local/bin/mise --version
#       - echo 'eval "$(~/.local/bin/mise activate --shims bash)"' >> ~/.bashrc
#       - . ~/.bashrc
#       - mise use -g erlang@28
#       name: "Run test module on Mac OSX"
#       platform: macos
#       bazel: ${{ bazel }}
#       build_targets:
#       - "..."
#       test_targets:
#       - "..."
